FROM python:3.11-slim-bookworm

# Gerekli sistem bağımlılıkları
RUN apt-get update && apt-get install -y --no-install-recommends build-essential git && \
    apt-get clean && rm -rf /var/lib/apt/lists/*

WORKDIR /app

# --- DEĞİŞİKLİK: Sadece converter'a özel requirements dosyasını kopyala ---
COPY requirements.converter.txt .

# --- DEĞİŞİKLİK: Yeni dosyayı kullanarak bağımlılıkları kur ---
RUN pip install --no-cache-dir -r requirements.converter.txt

COPY ./scripts/convert_model.py .
RUN mkdir /models
ENTRYPOINT ["python", "convert_model.py"]